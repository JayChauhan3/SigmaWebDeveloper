<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hacking Simulation</title>
  <style>
    body {
      background-color: black;
      color: #00ff00;
      font-family: monospace;
      font-size: 1.2em;
      padding: 20px;
    }
  </style>
</head>
<body>

<script>
  let currentLine = null;
  let intervalId = null;
  let baseText = "";

  const addItem = async (item) => {
    await randomTimeout();
    const div = document.createElement("div");
    div.innerHTML = item;
    document.body.appendChild(div);
    currentLine = div;
    baseText = item;
    startDotAnimation();
  };

  const randomTimeout = () => {
    return new Promise((resolve) => {
      const timeout = 1 + 5 * Math.random();
      setTimeout(resolve, timeout * 1000);
    });
  };

  const startDotAnimation = () => {
    let dotCount = 0;
    intervalId = setInterval(() => {
      if (!currentLine) return;

      dotCount = (dotCount + 1) % 4; // cycles through 0,1,2,3
      const dots = ".".repeat(dotCount);
      currentLine.innerHTML = baseText + dots;
    }, 300);
  };

  const stopDotAnimation = () => {
    clearInterval(intervalId);
    if (currentLine) {
      currentLine.innerHTML = baseText; // remove all dots from the end
    }
  };

  async function Main() {
    const text = [
      "Initializing Hacking",
      "Initialized Hacking now reading your data",
      "Reading your Files",
      "Password files Detected",
      "Sending all passwords and personal files to server",
      "Cleaning up",
    ];

    for (const item of text) {
      await addItem(item);
      await randomTimeout();
      stopDotAnimation();  // Remove dots after each line
    }
  }

  Main();
</script>

</body>
</html>